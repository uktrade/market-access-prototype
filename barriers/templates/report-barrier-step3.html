{% extends './govuk_layout.html' %}
{% load staticfiles %}
{% load trans from i18n %}
{% load mptt_tags %}
{% block css %}
{% endblock %}
{% block bodyScripts %}
{% endblock bodyScripts %}
{% block head_title %}Report a trade barrier - Section 3 of 6: Select the type of barrier{% endblock %}
{% block sub_header %}{# prevent the subheader from showing on form pages #}{% endblock %}
{% block css_layout_class %}
{% endblock %}

{% block content %}
  <div class="outer-container">
    <div class="dit-breadcrumb grid-container grid-container--inner">
        <div class="column-full flush--bottom">
        <a href="https://www.great.gov.uk/">Great.gov.uk</a> <span aria-hidden="true">></span> <a href="/">Trade Barriers</a> <span aria-hidden="true">></span> <a href="{% url 'report-barrier' %}">Report a barrier</a> <span aria-hidden="true">></span> <strong>Section 3 of 6: Select the type of barrier</strong>
      </div>
    </div>
  </div>
  <div class="outer-container push--top">
    <div class="grid-container grid-container--inner">
      <div class="column-one-third dit-progress-bar">
        {% include 'components/form-existing-message.html' %}
        <div class="h4">Section</div>
        <ol>
          <li><a href="{% url 'report-barrier-step1' %}"><span>1 About you</span> <img src="{% static 'images/tick.svg' %}" alt="Completed step"></a></li>
          <li><a href="{% url 'report-barrier-step2' %}"><span>2 About the problem</span> <img src="{% static 'images/tick.svg' %}" alt="Completed step"></a></li>
          <li class="is-selected">3 Select the type of barrier</li>
          <li><a href="{% url 'report-barrier-step4' %}">4 Working out the next steps</a></li>
          <li><a href="{% url 'report-barrier-step5' %}">5 Any other details</a></li>
          <li>6 Summary</li>
        </ol>
      </div>
      <div class="column-two-third">
        <h1 class="h3 push--bottom push--top">Section 3 of 6: Select the type(s) of barrier</h1>
        <form action="{% url 'report-barrier-step4' %}" method="post" class="dit-form">

          {% csrf_token %}

          {% include 'components/form-validation.html' %}

          <div class="form-group push--top required-checkboxes">
            <fieldset>

              <legend>
                <h2 class="form-label">
                  Choose one or more barrier types which best describe the problem you are reporting.<br><br>Select "11) Not Sure" if you are not sure.
                </h2>
              </legend>

              <span class="error-message hidden" aria-hidden="true">Choose a type of barrier</span>

            {% recursetree barrier_types %}
              <div class="multiple-choice {% if node.tree_id == 1 %}push--top{% endif %}">
                <input id="dit-step3-{{node.tree_id}}" name="dit[step3][choice]" value="{{ node.pk }}" type="checkbox" required>
                <label for="dit-step3-{{node.tree_id}}" class="form-label">
                  {{ node.barrier_code }}) {{ node.name }}
                  {% if node.description %}
                  <span class="form-hint">
                    {{ node.description }}
                  </span>
                  {% endif %}
                </label>
              </div>
            {% endrecursetree %}

            </fieldset>
          </div>
          <div class="dit-buttons">
            <a href="{% url 'report-barrier-step2' %}" class="button button-white button-border">Back</a>
            <button class="button button-blue" type="submit">Next</button>
            <button class="button button-transparent-blue button-border float--right js-save-button" type="submit">Save Progress</button>
          </div>
        </form>
      </div>
    </div>
  </div>

{% endblock %}
